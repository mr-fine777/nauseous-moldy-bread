<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Counter Page</title>
</head>
<body>
  <h1>You're on the counter page</h1>

  <script>
    const API_URL = '/api/users';

    // Increment when someone visits
    fetch(API_URL, { method: 'POST' });

    // Decrement when someone leaves
    window.addEventListener('beforeunload', () => {
      navigator.sendBeacon(API_URL, JSON.stringify({ method: 'DELETE' }));
    });
  </script>
</body>
</html>
